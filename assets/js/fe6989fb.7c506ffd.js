"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[5854],{27284:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"internal-contracts/pages","title":"Pages","description":"---","source":"@site/docs/internal-contracts/pages.md","sourceDirName":"internal-contracts","slug":"/internal-contracts/pages","permalink":"/project-code-battlegrounds-1-5/docs/internal-contracts/pages","draft":false,"unlisted":false,"editUrl":"https://github.com/Capstone-Projects-2026-spring/project-code-battlegrounds-1-5/edit/main/documentation/docs/internal-contracts/pages.md","tags":[],"version":"current","lastUpdatedBy":"samirbuch","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"Pages"},"sidebar":"docsSidebar","previous":{"title":"UI Components","permalink":"/project-code-battlegrounds-1-5/docs/internal-contracts/components"},"next":{"title":"WebSocket Events","permalink":"/project-code-battlegrounds-1-5/docs/internal-contracts/websocket"}}');var i=d(74848),r=d(28453);const t={sidebar_position:7,title:"Pages"},c="Pages",l={},o=[{value:"<code>LoginPage</code> \u2014 <code>src/pages/login.tsx</code>",id:"loginpage--srcpageslogintsx",level:2},{value:"State",id:"state",level:3},{value:"<code>handleLogin(): Promise&lt;void&gt;</code>",id:"handlelogin-promisevoid",level:3},{value:"<code>data-testid</code> attributes",id:"data-testid-attributes",level:3},{value:"<code>SignUpPage</code> \u2014 <code>src/pages/signup.tsx</code>",id:"signuppage--srcpagessignuptsx",level:2},{value:"State",id:"state-1",level:3},{value:"<code>handleSignUp(): Promise&lt;void&gt;</code>",id:"handlesignup-promisevoid",level:3},{value:"<code>data-testid</code> attributes",id:"data-testid-attributes-1",level:3},{value:"<code>DashboardPage</code> \u2014 <code>src/pages/dashboard/index.tsx</code>",id:"dashboardpage--srcpagesdashboardindextsx",level:2},{value:"State",id:"state-2",level:3},{value:"Auth guard",id:"auth-guard",level:3},{value:"Render states",id:"render-states",level:3},{value:"Sign Out button",id:"sign-out-button",level:3},{value:"<code>FindPartnerPage</code> \u2014 <code>src/pages/findPartnerPage.tsx</code>",id:"findpartnerpage--srcpagesfindpartnerpagetsx",level:2},{value:"Layout",id:"layout",level:3},{value:"Props passed to children",id:"props-passed-to-children",level:3}];function h(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"pages",children:"Pages"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"loginpage--srcpageslogintsx",children:[(0,i.jsx)(s.code,{children:"LoginPage"})," \u2014 ",(0,i.jsx)(s.code,{children:"src/pages/login.tsx"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"/login"}),". Submits credentials via ",(0,i.jsx)(s.code,{children:"authClient.signIn.email"}),". Navigates to ",(0,i.jsx)(s.code,{children:"/dashboard"})," on success, ",(0,i.jsx)(s.code,{children:"alert"}),"s the error message on failure."]}),"\n",(0,i.jsx)(s.h3,{id:"state",children:"State"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"email"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"string"})}),(0,i.jsxs)(s.td,{children:["Email input value. Init: ",(0,i.jsx)(s.code,{children:'""'}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"password"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"string"})}),(0,i.jsxs)(s.td,{children:["Password input value. Init: ",(0,i.jsx)(s.code,{children:'""'}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"loading"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"boolean"})}),(0,i.jsxs)(s.td,{children:["Never set to ",(0,i.jsx)(s.code,{children:"true"})," in the current implementation. Reserved for a loading indicator."]})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"handlelogin-promisevoid",children:(0,i.jsx)(s.code,{children:"handleLogin(): Promise<void>"})}),"\n",(0,i.jsxs)(s.p,{children:["Calls ",(0,i.jsx)(s.code,{children:"authClient.signIn.email"})," with current state."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Preconditions:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"email"})," is a valid email format."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"password"})," is non-empty."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Postconditions (success):"})," ",(0,i.jsx)(s.code,{children:'router.push("/dashboard")'}),". Session cookie set."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Postconditions (failure):"})," ",(0,i.jsx)(s.code,{children:"alert(ctx.error.message)"}),". No navigation."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Throws:"})," None. Errors surface through ",(0,i.jsx)(s.code,{children:"onError"}),"."]}),"\n",(0,i.jsxs)(s.h3,{id:"data-testid-attributes",children:[(0,i.jsx)(s.code,{children:"data-testid"})," attributes"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.code,{children:"data-testid"})}),(0,i.jsx)(s.th,{children:"Element"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"email-login"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:'<input type="email">'})}),(0,i.jsx)(s.td,{children:"Email field."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"password-login"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:'<input type="password">'})}),(0,i.jsx)(s.td,{children:"Password field."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"login-button"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:'<button type="submit">'})}),(0,i.jsxs)(s.td,{children:["Submit. Disabled when ",(0,i.jsx)(s.code,{children:"loading"})," is ",(0,i.jsx)(s.code,{children:"true"}),"."]})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"signuppage--srcpagessignuptsx",children:[(0,i.jsx)(s.code,{children:"SignUpPage"})," \u2014 ",(0,i.jsx)(s.code,{children:"src/pages/signup.tsx"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"/signup"}),". Registers a new account via ",(0,i.jsx)(s.code,{children:"authClient.signUp.email"}),". Navigates to ",(0,i.jsx)(s.code,{children:"/dashboard"})," on success, ",(0,i.jsx)(s.code,{children:"alert"}),"s on failure."]}),"\n",(0,i.jsx)(s.h3,{id:"state-1",children:"State"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"email"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"string"})}),(0,i.jsxs)(s.td,{children:["Email input value. Init: ",(0,i.jsx)(s.code,{children:'""'}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"password"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"string"})}),(0,i.jsxs)(s.td,{children:["Password input value. Init: ",(0,i.jsx)(s.code,{children:'""'}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"name"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"string"})}),(0,i.jsxs)(s.td,{children:["Display name input value. Init: ",(0,i.jsx)(s.code,{children:'""'}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"loading"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"boolean"})}),(0,i.jsxs)(s.td,{children:["Never set to ",(0,i.jsx)(s.code,{children:"true"})," in the current implementation. Reserved for a loading indicator."]})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"handlesignup-promisevoid",children:(0,i.jsx)(s.code,{children:"handleSignUp(): Promise<void>"})}),"\n",(0,i.jsxs)(s.p,{children:["Calls ",(0,i.jsx)(s.code,{children:"authClient.signUp.email"})," with current state."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Preconditions:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"email"})," is a valid email format and not already registered."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"password"})," is at least 8 characters (enforced server-side)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"name"})," is non-empty."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Postconditions (success):"})," ",(0,i.jsx)(s.code,{children:"User"})," record created in DB. ",(0,i.jsx)(s.code,{children:'router.push("/dashboard")'}),". Session cookie set."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Postconditions (failure):"})," ",(0,i.jsx)(s.code,{children:"alert(ctx.error.message)"}),". No record created. No navigation."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Throws:"})," None. Errors surface through ",(0,i.jsx)(s.code,{children:"onError"}),"."]}),"\n",(0,i.jsxs)(s.h3,{id:"data-testid-attributes-1",children:[(0,i.jsx)(s.code,{children:"data-testid"})," attributes"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.code,{children:"data-testid"})}),(0,i.jsx)(s.th,{children:"Element"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"name-signup"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:'<input type="text">'})}),(0,i.jsx)(s.td,{children:"Display name field."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"email-signup"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:'<input type="email">'})}),(0,i.jsx)(s.td,{children:"Email field."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"password-signup"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:'<input type="password">'})}),(0,i.jsx)(s.td,{children:"Password field."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"signup-button"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:'<button type="submit">'})}),(0,i.jsxs)(s.td,{children:["Submit. Disabled when ",(0,i.jsx)(s.code,{children:"loading"})," is ",(0,i.jsx)(s.code,{children:"true"}),"."]})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"dashboardpage--srcpagesdashboardindextsx",children:[(0,i.jsx)(s.code,{children:"DashboardPage"})," \u2014 ",(0,i.jsx)(s.code,{children:"src/pages/dashboard/index.tsx"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"/dashboard"}),". Protected page. Renders a welcome message and a sign-out button. Redirects to ",(0,i.jsx)(s.code,{children:"/login"})," if unauthenticated."]}),"\n",(0,i.jsx)(s.h3,{id:"state-2",children:"State"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"session"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"Session | null"})}),(0,i.jsxs)(s.td,{children:["From ",(0,i.jsx)(s.code,{children:"authClient.useSession()"}),"."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"isPending"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"boolean"})}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:"true"})," while the initial session fetch is in flight."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"error"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"Error | null"})}),(0,i.jsx)(s.td,{children:"Non-null only if the session fetch itself failed (not just unauthenticated)."})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"auth-guard",children:"Auth guard"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"useEffect"})," runs when ",(0,i.jsx)(s.code,{children:"isPending"})," or ",(0,i.jsx)(s.code,{children:"session"})," changes. Once ",(0,i.jsx)(s.code,{children:"isPending"})," is ",(0,i.jsx)(s.code,{children:"false"}),", if ",(0,i.jsx)(s.code,{children:"session"})," is ",(0,i.jsx)(s.code,{children:"null"}),", calls ",(0,i.jsx)(s.code,{children:'router.push("/login")'}),". This is a ",(0,i.jsx)(s.strong,{children:"client-side"})," guard only. ",(0,i.jsx)(s.code,{children:"proxy.ts"})," handles the server-side optimistic redirect for the same route. Both are required."]}),"\n",(0,i.jsx)(s.h3,{id:"render-states",children:"Render states"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Condition"}),(0,i.jsx)(s.th,{children:"Output"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"isPending === true"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"<p>Loading...</p>"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"isPending === false && session === null"})}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:"null"})," (redirect in-flight)"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"isPending === false && session !== null"})}),(0,i.jsx)(s.td,{children:"Welcome heading + Sign Out button"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"sign-out-button",children:"Sign Out button"}),"\n",(0,i.jsxs)(s.p,{children:["Calls ",(0,i.jsx)(s.code,{children:"authClient.signOut()"}),". Deletes session from DB and clears cookie. Handled internally by BetterAuth."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"findpartnerpage--srcpagesfindpartnerpagetsx",children:[(0,i.jsx)(s.code,{children:"FindPartnerPage"})," \u2014 ",(0,i.jsx)(s.code,{children:"src/pages/findPartnerPage.tsx"})]}),"\n",(0,i.jsxs)(s.p,{children:["Composition of ",(0,i.jsx)(s.code,{children:"HeaderSimple"}),", ",(0,i.jsx)(s.code,{children:"PartnerSearch"}),", and ",(0,i.jsx)(s.code,{children:"StatsGroup"})," in a full-viewport flex column. No props. No API calls. No session checks."]}),"\n",(0,i.jsx)(s.h3,{id:"layout",children:"Layout"}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.code,{children:"Stack"})," with ",(0,i.jsx)(s.code,{children:'h="100vh"'})," and ",(0,i.jsx)(s.code,{children:"gap={0}"}),":"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Region"}),(0,i.jsx)(s.th,{children:"Component"}),(0,i.jsx)(s.th,{children:"CSS behavior"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Top"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"HeaderSimple"})}),(0,i.jsx)(s.td,{children:"Natural height."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Middle"}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:"PartnerSearch"})," in ",(0,i.jsx)(s.code,{children:"Box"})]}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:"flex: 1"})," \u2014 fills remaining space."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Bottom"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"StatsGroup"})}),(0,i.jsx)(s.td,{children:"Natural height."})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"props-passed-to-children",children:"Props passed to children"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Child"}),(0,i.jsx)(s.th,{children:"Props"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"HeaderSimple"})}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:'links={["Time", "Players", "Tournament"]}'}),", ",(0,i.jsx)(s.code,{children:'title="Code BattleGrounds"'})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"PartnerSearch"})}),(0,i.jsx)(s.td,{children:"(none)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"StatsGroup"})}),(0,i.jsx)(s.td,{children:"(none)"})]})]})]})]})}function a(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,s,d)=>{d.d(s,{R:()=>t,x:()=>c});var n=d(96540);const i={},r=n.createContext(i);function t(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);

<!DOCTYPE html>
<html lang="en">
<!--
<head>
  <meta charset="UTF-8">
  <title>Role-Based Text Boxes</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
    }

    .selector {
      margin-bottom: 20px;
    }

    .selector label {
      font-weight: bold;
      margin-right: 10px;
    }

    .selector select {
      padding: 8px;
      font-size: 14px;
      cursor: pointer;
    }

    .container {
      display: flex;
      gap: 20px;
    }

    .text-box {
      width: 50%;
      height: 300px;
      padding: 10px;
      font-size: 14px;
      resize: vertical;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <div class="selector">
    <label for="role-select">Select Role:</label>
    <select id="role-select">
      <option value="coder">Coder</option>
      <option value="tester">Tester</option>
      <option value="spectator">Spectator</option>
    </select>
  </div>

  <div class="container">
    <textarea id="coder-box" class="text-box" placeholder="Coder text box"></textarea>
    <textarea id="tester-box" class="text-box" placeholder="Tester text box"></textarea>
  </div>

  <script>
    // Simulate the permissions from permissions.ts
    const ROLE_PERMISSIONS = {
      coder: ["writeCode", "readTests", "runCode"],
      tester: ["writeTests", "readCode", "runTests"],
      spectator: ["readCode", "readTests"]
    };

    // Assign roles to boxes
    const ROLE_BOXES = {
      coder: "coder-box",
      tester: "tester-box",
      spectator: null 
    };

    const roleSelect = document.getElementById("role-select");
    const coderBox = document.getElementById("coder-box");
    const testerBox = document.getElementById("tester-box");

    function updateVisibility(role) {

      // If you want them to only see their respective boxes uncomment this
      /*
      const visibleBoxId = ROLE_BOXES[role];
      
      coderBox.classList.toggle("hidden", visibleBoxId !== "coder-box");
      testerBox.classList.toggle("hidden", visibleBoxId !== "tester-box");
    }
      */
    
      const editableBoxId = ROLE_BOXES[role];
      //Thiss disables writing in boxes not assigned to the role
      coderBox.disabled = editableBoxId !== "coder-box";
      testerBox.disabled = editableBoxId !== "tester-box";
    }

    roleSelect.addEventListener("change", (event) => {
      updateVisibility(event.target.value);
    });

    // Initialize visibility
    updateVisibility("coder");
  </script>

</body>
</html>
-->